\documentclass[11pt, a4paper]{article}
\usepackage{amsmath}
\usepackage{calc}
\usepackage{changepage}
\usepackage[pscoord]{eso-pic}
\usepackage{enumitem}
\setlist[enumerate]{itemsep=0pt, topsep=0pt, partopsep=0pt, parsep=0pt}
\setlist[itemize]{itemsep=0pt, topsep=0pt, partopsep=0pt, parsep=0pt}
\usepackage{fontawesome5}
\usepackage[top=2cm, bottom=2cm, left=2cm, right=2cm, footskip=1cm]{geometry}
\usepackage[
    colorlinks=true,
    urlcolor=primaryColor
]{hyperref}
\usepackage{ifthen}
\usepackage{iftex}
\usepackage{lastpage}
\usepackage{needspace}
\usepackage{paracol}
\usepackage{titlesec}
\definecolor{primaryColor}{RGB}{0, 80, 145}

\ifPDFTeX
    \input{glyphtounicode}
    \pdfgentounicode=1
    \usepackage[utf8]{inputenc}
    \usepackage{lmodern}
\fi

\AtBeginEnvironment{adjustwidth}{\partopsep0pt}
\pagestyle{empty}
\setcounter{secnumdepth}{0}
\setlength{\parindent}{0pt}
\setlength{\topskip}{0pt}
\setlength{\columnsep}{0cm}
\makeatletter
\let\ps@customFooterStyle\ps@plain
\patchcmd{\ps@customFooterStyle}{\thepage}{
    \color{gray}\textit{\small Your Name - Page \thepage{} of \pageref*{LastPage}}
}{}{}
\makeatother
\pagestyle{customFooterStyle}

\titleformat{\section}{\needspace{4\baselineskip}\bfseries\large}{}{0pt}{}[\vspace{1pt}\titlerule]

\titlespacing{\section}{-1pt}{0.3cm}{0.2cm}

\newenvironment{onecolentry}{
    \begin{adjustwidth}{0.2cm}{0.2cm}
}{
    \end{adjustwidth}
}

\newenvironment{twocolentry}[1]{
    \onecolentry
    \def\secondColumn{#1}
    \setcolumnwidth{\fill, 4.5cm}
    \begin{paracol}{2}
}{
    \switchcolumn \raggedleft \secondColumn
    \end{paracol}
    \endonecolentry
}

\newenvironment{header}{
    \setlength{\topsep}{0pt}\par\kern\topsep\centering\linespread{1.5}
}{
    \par\kern\topsep
}

\newcommand{\placelastupdatedtext}{
  \AddToShipoutPictureFG*{
    \put(
        \LenToUnit{\paperwidth-2cm-0.2cm+0.05cm},
        \LenToUnit{\paperheight-1cm}
    ){\makebox[0pt][r]{
        \small\color{gray}\textit{Last updated in [Month Year]}
    }}
  }
}

\let\hrefWithoutArrow\href

\renewcommand\labelitemi{$\circ$}
\renewcommand{\href}[2]{\hrefWithoutArrow{#1}{\ifthenelse{\equal{#2}{}}{ }{#2 }\raisebox{.15ex}{\footnotesize \faExternalLink*}}}

\begin{document}
    \placelastupdatedtext
    \begin{header}
        \textbf{\fontsize{22pt}{22pt}\selectfont John Doe}

        \vspace{0.3cm}

        \normalsize
        \mbox{{\color{black}\footnotesize\faMapMarker*}\hspace*{0.13cm}Your Location}
        \hspace{0.5cm}
        \mbox{\hrefWithoutArrow{mailto:johndoe@example.com}{\color{black}{\footnotesize\faEnvelope[regular]}\hspace*{0.13cm}johndoe@example.com}}
        \hspace{0.5cm}
        \mbox{\hrefWithoutArrow{tel:+852 1234 5678}{\color{black}{\footnotesize\faPhone*}\hspace*{0.13cm}+852 1234 5678}}
        \hspace{0.5cm}
        \mbox{\hrefWithoutArrow{https://www.linkedin.com/in/john-doe/}{\color{black}{\footnotesize\faLinkedinIn}\hspace*{0.13cm}john-doe}}
        \hspace{0.5cm}
        \mbox{\hrefWithoutArrow{https://github.com/johndoe}{\color{black}{\footnotesize\faGithub}\hspace*{0.13cm}johndoe}}
    \end{header}
    
    \section{Education}

    \begin{twocolentry}{
        \textit{Start Date -- End Date (Expected)}
    }
        \textbf{Your University Name}

        \textit{Your Degree, Year X}
    \end{twocolentry}

    \begin{onecolentry}
    \begin{small}
        \begin{itemize}
            \item \textbf{Research Interests:} Your research interests
            \item Overall GPA: X.XXX
        \end{itemize}
    \end{small}
    \end{onecolentry}
    
    \vspace{0.5em}

    \begin{twocolentry}{
        \textit{Start Date -- End Date}
    }
        \textit{Your Previous Degree, Honors}
    \end{twocolentry}

    \begin{onecolentry}
    \begin{small}
        \begin{itemize}
            \item Major in [Field], Minor in [Field]
            \item Overall GPA: X.XXX, Major GPA: X.XXX
        \end{itemize}
    \end{small}
    \end{onecolentry}
    
    \vspace{0.5em}
    
    \begin{twocolentry}{
        \textit{Start Date -- End Date}
    }
        \textbf{Your High School Name}

        \textit{Your Diploma (Year)}
    \end{twocolentry}
    \begin{onecolentry}
    \begin{small}
        \begin{itemize}
            \item High grades in [Subjects]
        \end{itemize}
    \end{small}
    \end{onecolentry}

    \section{Publications}
    \begin{enumerate}
        \item ``Your Publication Title''\\
        Author1, Author2, \textbf{Your Name}, Author3.\\ DOI: \href{https://doi.org/your-doi}{Your DOI}, arXiv: \href{https://arxiv.org/abs/your-arxiv}{Your arXiv ID [field] (Year)}
    \end{enumerate}

    \section{Research Experience}
    \begin{twocolentry}{
        \textit{Start Date -- End Date}
    }   
        \textbf{Your Research Project Title}
    \end{twocolentry}
    
    \begin{onecolentry}
        \begin{small}
            Supervisor: Prof. Your Supervisor (Department, University)
            
            Research Topic: Your Research Topic    
            \begin{itemize}
                \item Your achievement 1
                \item Your achievement 2
            \end{itemize}
            Code: \href{https://github.com/your-repo}{https://github.com/your-repo}
        \end{small}
    \end{onecolentry}

    \section{Teaching Experience}
    
    \begin{twocolentry}{
        \textit{Start Date -- End Date}
    }
        \textbf{Teaching Assistant, Course Code: Course Name}
    \end{twocolentry}
    
    \begin{onecolentry}
        \begin{small}
            Instructor: Dr. Your Instructor (Department, University)
            
            \begin{itemize}
                \item Your responsibility 1
                \item Your responsibility 2
            \end{itemize}
        \end{small}
    \end{onecolentry}

    \section{Achievements and Awards}
    \begin{twocolentry}{
        \textit{[Date]}
    }
        \textbf{Your Award Name}
    \end{twocolentry}

    \begin{onecolentry}
        \begin{small}
            \begin{itemize}
                \item Criteria or description
            \end{itemize}
        \end{small}
    \end{onecolentry}

    \section{Independent Projects}
    \begin{twocolentry}{
        \textit{Start Date -- Present}
    }
        \textbf{Your Project Name}
    \end{twocolentry}

    \begin{onecolentry}
        \begin{small}
            \begin{itemize}
                \item Your description 1
                \item Your description 2
            \end{itemize}
            Code: \href{https://github.com/your-repo}{https://github.com/your-repo}
        \end{small}
    \end{onecolentry}

    \section{Computer Skills}
    Programming: Python (pandas, NumPy, matplotlib, SciPy), MATLAB, Fortran\\
    Tools: \LaTeX, Mathematica, Jupyter, Git/GitHub, Microsoft Office, ImageJ, Origin

    \section{Languages}
    Your Native Language (Native proficiency), English (Professional working proficiency)

    \section{Service and Extracurricular Activities}
    
    \begin{twocolentry}{
        \textit{[Date]}
    }
        \textbf{Your Role in Event}
    \end{twocolentry}
    
    \begin{onecolentry}
        \begin{small}
            \begin{itemize}
                \item Your responsibility
            \end{itemize}
        \end{small}
    \end{onecolentry}

\end{document}